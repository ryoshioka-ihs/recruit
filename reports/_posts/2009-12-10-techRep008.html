---
title:         "デスクトップ 仮想化 - VDI(Virtual Desktop Infrastructure)"
description:   ""
keywords:      ""
date:          2009-12-10 00:00:00 +0900
link:		   ""
categories:
- "技術レポート"
tags:
---

<p>各企業において仮想化ソリューションが広まり、またICT (情報通信技術) とセキュリティ技術の高度化に伴い、シンクライアントやブレードＰＣなど従来は個々のクライアントPCで管理していたリソースを仮想的にサーバで一元管理するクライアント仮想化ソリューションが注目を集めています。</p>
<p>その理由として、セキュリティや管理コストの削減や柔軟なワークスタイルの適応など、様々なメリットがあげられます。デスクトップ仮想化ソリューションのご紹介と、導入にあたっての課題についてご紹介します。</p>

<h2>デスクトップ 仮想化とは</h2>
<p>デスクトップ仮想化とは、仮想インフラストラクチャ上で稼働する仮想マシン・仮想OSをクライアントPCから接続し、操作・利用するソリューションです。デスクトップ仮想化はVDI（Virtual Desktop Infrastructure)とも呼ばれており、大きく二つに分類されます。</p>

<h3>1. クライアント型</h3>
<p>クライアントPC内の仮想インフラストラクチャで稼働する仮想マシンを操作・使用する。<br />
（仮想インフラストラクチャ：VMware Workstation、Microsoft Virtual PCなど）</p>
	<div class="lightBox">
		<figure>
			<img src="/image/reports/techRep008_01.gif" alt="クライアントPC内の仮想インフラストラクチャで稼働する仮想マシンを操作・使用する。">
		</figure>
	</div>

<h3>2. サーバ／クライアント型</h3>
<p>サーバの仮想インフラストラクチャで稼働する仮想マシンをクライアントPCからネットワークを介して接続し操作・使用する。<br />
（仮想化インフラストラクチャ：VMware ESX、Microsoft Hyper-V、Citrix XenServerなど）</p>
	<div class="lightBox">
		<figure>
			<img src="/image/reports/techRep008_02.gif" alt="サーバの仮想インフラストラクチャで稼働する仮想マシンをクライアントPCからネットワークを介して接続し操作・使用する。">
		</figure>
	</div>
<br>
<p>クライアント型は、検証などを行うのには有効ですが、システム管理・コストといったメリットはさほどありません。今回はサーバ／クライアント型のデスクトップ仮想化について紹介します。</p>

<h2>VDIソリューション VMware View 4</h2>
<p>VMware VDIを例にあげて紹介します。</p>
<br>
<table class="baseTb">
<caption>VMware VDI</caption>
	<colgroup>
		<col width="30%">
		<col width="70%">
	</colgroup>
<tr>
	<th>サーバ仮想化</th><td>VMware ESX（vSphere）</td>
</tr>
<tr>
	<th>デスクトップ<br />仮想化インフラストラクチャ</th>
	<td>VMware View 4<br />
	<ul class="grayDisc">
		<li>Enterprise Edition<br />
	（vSphere 4 desktop・vCenter 4 desktop・view Manager）</li>
		<li>Premier Edition<br />
	（vSphere 4 desktop・vCenter 4 desktop・view Manager・View Composer・Thin App 4・Offline Desktop（試験的））</li>
	</ul>
	</td>
</tr>
</table>
<br>
<p class="textIndent--style1"><small class="notes">※シンクライアント（Thin client）とは、ユーザが使うクライアント端末に必要最小限の処理をさせ、ほとんどの処理をサーバ側に集中させたシステムアーキテクチャ。</small></p>

	<div class="lightBox">
		<figure>
		<figcaption>VMware View 4構成図</figcaption>
			<img src="/image/reports/techRep008_03.gif" alt="VMware View 4構成図">
		</figure>
	</div>
<small class="notes">※図：VMware View Webサイトより引用</small><br>
<br>
<p class="mr_t10">デスクトップ仮想化は大きく3つのコンポーネントで構成されています。</p>

<h3>ユーザの使用環境</h3>
<p>ユーザPCと周辺機器。ユーザPCは汎用パソコンでも仮想マシンを使用する事ができますが、仮想環境と通常PC と二重運用となり、それぞれにメリット・デメリットが共存します。また、リモートディスプレイを実現するだけの機能を持ったハードウェアであるシンクライアント端末を使用する事もあります。シンクライアント端末を使用した仮想化システムアーキテクチャを総称してシンクライアントと呼ばれています。</p>

<h3>プラットフォーム</h3>
<p>サーバ仮想化インフラストラクチャとその上で稼働する仮想マシンの事を指します。仮想マシンにはWindows やLinuxなどのクライアントOSが使われます。仮想マシンにはユーザに固定で割り当てる方法と、複数ユーザで共有する方法があり、それらがVMware View Managerにより、接続してきたユーザに適切に割り当てられます。</p>

<h3>管理</h3>
<p>ユーザPCとプラットフォームのコネクション管理を行いコネクションブローカーと呼ばれています。VMware View Managerではユーザの認証を行い、ユーザに適切な仮想マシンの割り当てをおこないます。また、仮想マシンの電源管理、セッション管理やシングルサインオンを可能にします。</p>
<br>
<p>VMware View Composerでは、仮想マシンの容量を最適化します。従来の方式では、仮想マシンごとにHDD容量を確保する必要がありましたが、差分情報だけの仮想マシンを作成することができます。マスター仮想マシンから、そのスナップショットとなるマスターVMを作成し、差分情報のみ保存したクローンVMを作成することで、容量の小さなクライアント用の仮想マシンを作成する事が出来ます。</p>
<br>
<p>VMware ThinAppは、アプリケーションを仮想化する技術でOSとアプリケーションを自由に展開することができます。</p>


<h2>クライアント仮想化のメリット</h2>
<p>クライアントを仮想化するメリットについては、下記があげられます。</p>

<h3>管理コストの削減</h3>
<p>ユーザデータの管理・修正プログラムの適応作業・アプリケーションの追加・メンテナンス等の管理作業を、サーバ上で一括管理することで管理工数を大幅に削減します。</p>
<h3>高セキュリティ</h3>
<p>重要なデータを各クライアントPCに残さず、ノートPCなど社外持ち出しによるデータの紛失などのトラブルを未然に防ぎます。また、セキュリティに関してユーザ教育コストの軽減も可能です。</p>
<h3>利便性</h3>
<p>社外のどこからでもネットワーク経由で、社内の同一のPC環境を利用することができ、ワークスタイルに柔軟に対応可能。</p>
<h3>拡張性</h3>
<p>各個人PC環境をサーバで一元管理することで、容易にPC環境を追加することができ、新規ユーザの追加やハードのライフサイクルに依存する事なく簡単に構築が行えます。</p>
<h3>ライセンス</h3>
<p>例えば、Microsoftの仮想化ライセンス体系は、アクセスデバイス単位でライセンスされるため、利用方法を工夫すればWindowsデスクトップのライセンスコストを削減できます。</p><br />
	<small class="notes">参考：<a href="http://www.microsoft.com/japan/virtualization/licensing/VECD.mspx" target="_blank">http://www.microsoft.com/japan/virtualization/licensing/VECD.mspx</a></small>
<h3>グリーンIT</h3>
<p>シンクライアント端末の場合、HDDや冷却ファンがないため、低騒・低電力消費・低発熱・省スペースな傾向があります。</p>


<h2>デスクトップ仮想化導入の検討事項</h2>
<p>デスクトップ仮想化技術に関して紹介しましたが、導入にあたって検討が必要な項目を下記にあげます。</p>

<h3>ハードウェアの選定</h3>
<p>サーバ・クライアント共、検討しているVDIソリューションのサポート対象の商品を選定する必要があります。また、Provisioning Server for Desktops（PVS）のようなディスク仮想化ソリューションを使わない場合、仮想マシンを管理するサーバに膨大なディスク容量を用意する必要があります。</p>

<h3>アプリケーションS/W情報などの事前調査</h3>
<p>現行のクライアントで使用中のアプリケーションが、VDI環境でサポートされているか事前に調査する必要があります。例えば、高解像度などを要するアプリケーションを、ネットワークを介して利用する事は課題がありますし、VDIソリューション選定にも大きく左右される要因になります。</p>

<h3>ライセンス</h3>
<p>デスクトップを仮想化した場合のユーザ数をどう考えるのか。また、仮想化以前に現在使用しているOSやアプリケーションのライセンス状況を正確に把握しておくことが重要です。
複雑なライセンス体系を正しく理解し、デスクトップ仮想化に対応した適正・最小限なライセンスを購入するようにするためには、経験やノウハウが必要なこともあります。</p>

<h3>オンラインでの使用</h3>
<p>サーバ／クライアント型のデスクトップ仮想化では、ネットワークのない環境で仮想マシンを使用することは困難です。また、十分な帯域を保証されていない環境では、パフォーマンスの低下が考えられます。仮想化ソリューション選択の際には、各ソフトウェアベンダが接続に使用するプロトコルなどを確認し使用目的に合わせた考慮が必要です。</p>

<h3>仮想化後の運用方法の検討</h3>
<p>セキュリティ対策・パッチの適応などのクライアントPCの管理が、サーバで一元管理できることがデスクトップ仮想化の最大のメリットですが、移行後の運用方針の検討は見落としがちになります。選定した仮想化ソリューションによっても運用方法は異なるので、製品に関する経験やノウハウを持っているベンダー様にご相談することをお勧めします。</p>
<br>
<p>上記内容に関して、ご不明な点またはご質問などがございましたら、お気軽にお問い合わせ下さい。また、インフラ構築作業に関しましてご興味がございましたら、IIMヒューマン・ソリューション営業担当までお問い合わせ下さい。</p>